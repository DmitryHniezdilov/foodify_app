(this.webpackJsonpfoodify_app=this.webpackJsonpfoodify_app||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(11),r=n.n(i),s=n(17),o=n(58),l=n(78),d=n(14),j=n(79),u=function(){var e=localStorage.getItem("recipeFavourList");return e?JSON.parse(e):[]},b=function(e){localStorage.setItem("recipeFavourList",JSON.stringify(e))},h="START_LOADING",O="FINISH_LOADING",m="SET_RECIPE",p="SET_FAVOUR_LIST",x="SET_CUSTOM_DISH_TO_FAVOUR_LIST",f="OPEN_MODAL",g="CLOSED_MODAL",v={recipe:{},recipeFavourList:[],isLoading:!0,isOpenModal:!1},y=n(2),L=Object(o.combineReducers)({general:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(s.a)(Object(s.a)({},e),{},{isLoading:!0});case O:return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1});case f:return Object(s.a)(Object(s.a)({},e),{},{isOpenModal:!0});case g:return Object(s.a)(Object(s.a)({},e),{},{isOpenModal:!1});case m:return Object(s.a)(Object(s.a)({},e),{},{recipe:t.recipe});case p:case x:return Object(s.a)(Object(s.a)({},e),{},{recipeFavourList:t.favourList});default:return Object(s.a)({},e)}}}),M=Object(o.createStore)(L,function(e){var t=u();return{general:Object(s.a)(Object(s.a)({},e),{},{recipeFavourList:t})}}(v),Object(l.composeWithDevTools)(Object(o.applyMiddleware)(j.a))),N=function(e){var t=e.children;return Object(y.jsx)(d.a,{store:M,children:t})},k=n(35),I=n(13),S=n(10),w=n(40),T=n(155),D=n(149),C=n(85),A=n.n(C),F=n(86),_=n.n(F),B=n(65),E=n.n(B),z=n(150),U=n(159),W=n(112),R=n(144),H=n(145),P=n(84),q=n.n(P),J=n(141),V=Object(J.a)({icon:{color:"#d1d5da"}}),G=function(){var e=V();return Object(y.jsxs)(U.a,{align:"center",component:"footer",my:2,children:[Object(y.jsx)(W.a,{color:"textSecondary",component:"span",variant:"subtitle1",children:'"Foodify Application" by\xa0Dmitry\xa0Hniezdilov:\xa0'}),Object(y.jsx)(R.a,{className:e.icon,component:H.a,href:"https://github.com/DmitryHniezdilov/",rel:"noreferrer",size:"small",target:"_blank",children:Object(y.jsx)(q.a,{})})]})},Y=n(146),K=n(147),Q=n(148),X=n(16),Z=n.n(X),$=n(25),ee=function(){return function(){var e=Object($.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:h}),e.next=3,fetch("https://www.themealdb.com/api/json/v1/1/random.php").then((function(e){return e.json()})).then((function(e){return e.meals[0]}));case 3:n=e.sent,t({type:m,recipe:n}),t({type:O});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},te=function(e){return{type:p,favourList:e}},ne=n(21),ae=Object(J.a)((function(e){return{header:{borderBottom:"1px solid ".concat(e.palette.divider)},headerList:{minHeight:"60px","& :first-child":{justifyContent:"flex-end"}},headerItemModal:Object(ne.a)({justifyContent:"flex-end"},"@media (max-width:959px)",{justifyContent:"center"})}})),ce=function(e){var t=e.isModal,n=ae(),a=Object(d.b)();return Object(y.jsx)(U.a,{className:n.header,component:"header",children:Object(y.jsx)(U.a,{component:"nav",children:Object(y.jsxs)(Y.a,{container:!0,disablePadding:!0,className:n.headerList,component:K.a,children:[Object(y.jsx)(Y.a,{item:!0,component:Q.a,xs:6,children:Object(y.jsx)(D.a,{color:"primary",component:k.b,size:"small",to:"/",children:"Random Dish"})}),Object(y.jsx)(Y.a,{item:!0,component:Q.a,md:3,xs:6,children:Object(y.jsx)(D.a,{color:"primary",component:k.b,size:"small",to:"/favourites",children:"Favourites"})}),t&&Object(y.jsx)(Y.a,{item:!0,className:n.headerItemModal,component:Q.a,md:3,xs:12,children:Object(y.jsx)(D.a,{color:"primary",size:"small",variant:"contained",onClick:function(){a({type:f})},children:"Add custom dish"})})]})})})},ie=Object(J.a)({pageLayout:{backgroundColor:"inherit",display:"flex",flexDirection:"column",position:"relative",minHeight:"100vh"},pageLayoutBox:{flexGrow:"1",textAlign:"center"},footer:{flexShrink:"0"}}),re=function(e){var t=e.children,n=e.isModal,a=ie();return Object(y.jsxs)(z.a,{className:a.pageLayout,maxWidth:"lg",children:[Object(y.jsx)(ce,{isModal:n}),Object(y.jsx)(U.a,{className:a.pageLayoutBox,component:"main",my:2,children:t}),Object(y.jsx)(G,{className:a.footer})]})},se=n(151),oe=n(152),le=n(153),de=n(154),je=Object(J.a)({card:{display:"inline-block",textAlign:"left",maxWidth:500,width:"100%",height:"100%"},cardLink:{height:"100%"},cardMediaBox:{objectFit:"cover",height:250},cardMedia:{width:"100%",height:"100%"},cardInstructions:{display:"-webkit-box",boxOrient:"vertical",lineClamp:4,wordBreak:"break-all",overflow:"hidden"}}),ue=function(e){var t=e.imageUrl,n=e.dishName,a=e.instructions,c=e.children,i=e.id,r=je(),s=t||"foodify_placeholder.svg";return Object(y.jsxs)(se.a,{className:r.card,children:[Object(y.jsxs)(oe.a,{className:r.cardLink,component:k.b,to:"/details/".concat(i),children:[Object(y.jsx)(U.a,{className:r.cardMediaBox,children:Object(y.jsx)(le.a,{className:r.cardMedia,component:"img",image:s,title:"".concat(n," image")})}),Object(y.jsxs)(de.a,{children:[Object(y.jsx)(W.a,{gutterBottom:!0,component:"h2",variant:"h5",children:n}),Object(y.jsx)(W.a,{align:"justify",className:r.cardInstructions,color:"textSecondary",component:"p",variant:"body2",children:a})]})]}),c]})},be=Object(J.a)({cardActions:{justifyContent:"space-around"}}),he=function(){var e=be(),t=Object(d.b)(),n=Object(d.c)((function(e){return e.general})),c=n.recipe,i=n.recipeFavourList,r=c.idMeal,s=c.strMeal,o=c.strMealThumb,l=c.strInstructions,j=Object(a.useState)(!1),u=Object(w.a)(j,2),b=u[0],h=u[1];return Object(a.useEffect)((function(){i.find((function(e){return e.idMeal===r}))&&h(!0)}),[]),Object(y.jsx)(re,{children:Object(y.jsx)(ue,{dishName:s,id:r,imageUrl:o,instructions:l,children:Object(y.jsxs)(T.a,{className:e.cardActions,children:[Object(y.jsx)(D.a,{color:"primary",endIcon:Object(y.jsx)(A.a,{}),size:"small",onClick:function(){t(ee()),b&&h(!1)},children:"Skip"}),Object(y.jsx)(D.a,{color:b?"secondary":"primary",endIcon:b?Object(y.jsx)(_.a,{}):Object(y.jsx)(E.a,{}),size:"small",onClick:function(){var e=i.filter((function(e){return e.idMeal!==r}));t(te(b?e:[].concat(Object(S.a)(i),[c]))),h(!b)},children:"Like"})]})})})},Oe=function(){var e=Object(d.c)((function(e){return e.general})).recipeFavourList,t=0===e.length,n=Object(S.a)(e).reverse();return Object(y.jsx)(re,{isModal:!0,children:Object(y.jsx)(Y.a,{container:!0,justifyContent:"center",spacing:4,children:t?Object(y.jsxs)(U.a,{mt:10,children:[Object(y.jsx)(W.a,{align:"center",variant:"h5",children:"You don't have a list of your favorite foods."}),Object(y.jsx)(W.a,{align:"center",variant:"h5",children:"Dishes marked as liked will be displayed on this tab."})]}):n.map((function(e){var t=e.strMeal,n=e.strMealThumb,a=e.strInstructions,c=e.idMeal;return Object(y.jsx)(Y.a,{item:!0,md:4,sm:6,xs:12,children:Object(y.jsx)(ue,{dishName:t,id:c,imageUrl:n,instructions:a})},c)}))})})},me=function(){return Object(y.jsx)(re,{children:Object(y.jsx)(W.a,{align:"center",variant:"h5",children:"Page not found"})})},pe=Object(J.a)({cardDetails:{display:"inline-block",textAlign:"left",maxWidth:800,width:"100%",height:"100%"},cardLink:{height:"100%"},cardDetailsMediaBox:{objectFit:"cover",height:300},cardDetailsMedia:{width:"100%",height:"100%"}}),xe=function(e){var t=e.imageUrl,n=e.dishName,a=e.instructions,c=e.children,i=pe(),r=t||"../foodify_placeholder.svg";return Object(y.jsxs)(se.a,{className:i.cardDetails,children:[Object(y.jsx)(de.a,{children:Object(y.jsx)(W.a,{align:"center",component:"h2",variant:"h5",children:n})}),Object(y.jsx)(U.a,{className:i.cardDetailsMediaBox,children:Object(y.jsx)(le.a,{className:i.cardDetailsMedia,component:"img",image:r,title:"".concat(n," image")})}),Object(y.jsx)(de.a,{children:Object(y.jsx)(W.a,{align:"justify",color:"textSecondary",component:"p",variant:"body2",children:a})}),c]})},fe=n(87),ge=n.n(fe),ve=Object(J.a)({cardDetailsActions:{justifyContent:"center"}}),ye=function(){var e=ve(),t=Object(d.b)(),n=Object(d.c)((function(e){return e.general})),a=n.recipeFavourList,c=n.recipe,i=Object(I.f)(),r=Object(I.g)().params.id,s=a.find((function(e){return e.idMeal===r})),o=s||c,l=o.idMeal,j=o.strMeal,u=o.strMealThumb,b=o.strInstructions;return Object(y.jsx)(re,{children:Object(y.jsx)(xe,{dishName:j,imageUrl:u,instructions:b,children:Object(y.jsx)(T.a,{className:e.cardDetailsActions,children:Object(y.jsx)(D.a,{color:s?"secondary":"primary",endIcon:s?Object(y.jsx)(ge.a,{}):Object(y.jsx)(E.a,{}),size:"small",onClick:function(){var e=a.filter((function(e){return e.idMeal!==l}));t(te(s?e:[].concat(Object(S.a)(a),[c]))),s&&i.push("/")},children:s?"Delete":"Like"})})})})},Le=function(){return Object(y.jsx)(k.a,{children:Object(y.jsxs)(I.c,{children:[Object(y.jsx)(I.a,{exact:!0,path:"/",children:Object(y.jsx)(he,{})},"/"),Object(y.jsx)(I.a,{exact:!0,path:"/favourites",children:Object(y.jsx)(Oe,{})},"chart"),Object(y.jsx)(I.a,{exact:!0,path:"/details/:id",children:Object(y.jsx)(ye,{})},"chart"),Object(y.jsx)(I.a,{path:"*",children:Object(y.jsx)(me,{})})]})})},Me=n(156),Ne=Object(J.a)((function(e){return{loading:{backgroundColor:e.palette.background.paper,display:"none",position:"fixed",zIndex:9999,top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center"}}})),ke=function(){var e=Ne(),t=Object(d.c)((function(e){return e.general})).isLoading?"flex":"";return Object(y.jsx)(U.a,{className:e.loading,style:{display:"".concat(t)},children:Object(y.jsx)(Me.a,{})})},Ie=n(67),Se=n(160),we=n(157),Te=n(114),De=n(113),Ce=n(158),Ae=Object(J.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(0,3)},paper:{width:"100%",maxWidth:600,padding:e.spacing(3),marginLeft:"auto",marginRight:"auto",display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},error:{marginTop:e.spacing(2)}}})),Fe=function(){var e,t,n,a,c=Ae(),i=Object(Ie.b)(),r=i.handleSubmit,s=i.errors,o=i.control,l=Object(d.b)(),j=Object(d.c)((function(e){return e.general})),u=j.isOpenModal,h=j.recipeFavourList,O=function(){l({type:g})};return Object(y.jsx)(Se.a,{closeAfterTransition:!0,BackdropComponent:we.a,BackdropProps:{timeout:500},className:c.modal,open:u,onClose:O,children:Object(y.jsx)(Te.a,{in:u,children:Object(y.jsxs)(De.a,{className:c.paper,children:[Object(y.jsx)(W.a,{component:"h1",variant:"h5",children:"Add custom dish"}),Object(y.jsxs)("form",{className:c.form,onSubmit:r((function(e){var t,n=e.title,a=e.text,c={idMeal:String(Date.now()),strMeal:n,strInstructions:a};l((t=[].concat(Object(S.a)(h),[c]),{type:x,favourList:t})),b([].concat(Object(S.a)(h),[c])),O()})),children:[Object(y.jsx)(U.a,{mb:2,children:Object(y.jsx)(Ie.a,{as:Object(y.jsx)(Ce.a,{autoFocus:!0,fullWidth:!0,error:!!(null===s||void 0===s||null===(e=s.title)||void 0===e?void 0:e.type),helperText:null===s||void 0===s||null===(t=s.title)||void 0===t?void 0:t.message,id:"title",label:"Title",type:"text",variant:"outlined"}),control:o,defaultValue:"",name:"title",rules:{required:{value:!0,message:"Title is required"},minLength:{value:5,message:"Title is too short"}}})}),Object(y.jsx)(U.a,{children:Object(y.jsx)(Ie.a,{as:Object(y.jsx)(Ce.a,{fullWidth:!0,multiline:!0,error:!!(null===s||void 0===s||null===(n=s.text)||void 0===n?void 0:n.type),helperText:null===s||void 0===s||null===(a=s.text)||void 0===a?void 0:a.message,id:"text",label:"Text",rows:4,type:"text",variant:"outlined"}),control:o,defaultValue:"",name:"text",rules:{required:{value:!0,message:"Text is required"},minLength:{value:20,message:"Text is too short"}}})}),Object(y.jsx)(D.a,{fullWidth:!0,className:c.submit,color:"primary",type:"submit",variant:"contained",children:"Add dish"})]})]})})})},_e=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.general})).recipeFavourList;return Object(a.useEffect)((function(){e(ee())}),[]),Object(a.useEffect)((function(){b(t)}),[t]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(Fe,{}),Object(y.jsx)(ke,{}),Object(y.jsx)(Le,{})]})};r.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(N,{children:Object(y.jsx)(_e,{})})}),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.73d1947d.chunk.js.map